[gd_scene load_steps=15 format=4 uid="uid://c8ag00buo1yic"]

[ext_resource type="PackedScene" uid="uid://c31c45atmsj6b" path="res://door.tscn" id="1_8rhti"]
[ext_resource type="PackedScene" uid="uid://d01caaj6mstmd" path="res://crate.tscn" id="1_rpg24"]
[ext_resource type="Texture2D" uid="uid://bxgkq2ip3eolv" path="res://assets/ui/perform.png" id="3_56f15"]
[ext_resource type="Texture2D" uid="uid://dw61vsso6bbtu" path="res://assets/ui/wait.png" id="4_ytyno"]
[ext_resource type="PackedScene" uid="uid://b3gapqcjoivkn" path="res://level_tiles.tscn" id="5_21bcp"]
[ext_resource type="Texture2D" uid="uid://bg70lvoh4knwl" path="res://assets/ui/move.png" id="5_cho24"]
[ext_resource type="Texture2D" uid="uid://cysa1s75obbmq" path="res://assets/ui/grab/grab1.png" id="5_k3d1t"]
[ext_resource type="Texture2D" uid="uid://bgd8cx5xkt4s7" path="res://assets/ui/directions/left.png" id="6_dlkme"]
[ext_resource type="Script" uid="uid://ctlm0n43cmmin" path="res://button_popup.gd" id="6_im64q"]
[ext_resource type="Texture2D" uid="uid://ba7ctxqwkh1ge" path="res://assets/ui/grab/grab2.png" id="6_sgv64"]
[ext_resource type="Texture2D" uid="uid://c7s3l3yscexln" path="res://assets/ui/directions/right.png" id="7_im64q"]
[ext_resource type="Texture2D" uid="uid://ryvmqsy8oiad" path="res://assets/ui/close.png" id="8_dlkme"]
[ext_resource type="Texture2D" uid="uid://jytkcegvbrtk" path="res://assets/ui/throw.png" id="10_im64q"]

[sub_resource type="AnimatedTexture" id="AnimatedTexture_gaoim"]
frames = 2
frame_0/texture = ExtResource("5_k3d1t")
frame_0/duration = 0.2
frame_1/texture = ExtResource("6_sgv64")
frame_1/duration = 0.2

[node name="Base" type="Node2D"]

[node name="Door" parent="." instance=ExtResource("1_8rhti")]
position = Vector2(146, 250)

[node name="Object" parent="." instance=ExtResource("1_rpg24")]
position = Vector2(354, 139)

[node name="Object2" parent="." instance=ExtResource("1_rpg24")]
position = Vector2(389, 99)

[node name="Object3" parent="." instance=ExtResource("1_rpg24")]
position = Vector2(319, 47)

[node name="PanelContainer" type="PanelContainer" parent="."]
offset_top = 344.0
offset_right = 641.0
offset_bottom = 360.0

[node name="Buttons" type="HFlowContainer" parent="PanelContainer"]
unique_name_in_owner = true
layout_mode = 2
alignment = 1

[node name="Perform" type="TextureButton" parent="PanelContainer/Buttons"]
layout_mode = 2
texture_normal = ExtResource("3_56f15")

[node name="Wait" type="TextureButton" parent="PanelContainer/Buttons"]
layout_mode = 2
texture_normal = ExtResource("4_ytyno")

[node name="Grab" type="TextureButton" parent="PanelContainer/Buttons"]
layout_mode = 2
texture_normal = ExtResource("5_k3d1t")
texture_pressed = ExtResource("6_sgv64")
texture_hover = SubResource("AnimatedTexture_gaoim")

[node name="Move" type="TextureButton" parent="PanelContainer/Buttons"]
layout_mode = 2
texture_normal = ExtResource("5_cho24")

[node name="PopupPanel" type="PopupPanel" parent="PanelContainer/Buttons/Move"]
canvas_item_default_texture_filter = 0
size = Vector2i(64, 24)
script = ExtResource("6_im64q")

[node name="HBoxContainer" type="HBoxContainer" parent="PanelContainer/Buttons/Move/PopupPanel"]
offset_left = 4.0
offset_top = 4.0
offset_right = 60.0
offset_bottom = 20.0

[node name="Left" type="TextureButton" parent="PanelContainer/Buttons/Move/PopupPanel/HBoxContainer"]
layout_mode = 2
texture_normal = ExtResource("6_dlkme")

[node name="Close" type="TextureButton" parent="PanelContainer/Buttons/Move/PopupPanel/HBoxContainer"]
layout_mode = 2
texture_normal = ExtResource("8_dlkme")

[node name="Right" type="TextureButton" parent="PanelContainer/Buttons/Move/PopupPanel/HBoxContainer"]
layout_mode = 2
texture_normal = ExtResource("7_im64q")

[node name="Throw" type="TextureButton" parent="PanelContainer/Buttons"]
layout_mode = 2
texture_normal = ExtResource("10_im64q")

[node name="PopupPanel" type="PopupPanel" parent="PanelContainer/Buttons/Throw"]
auto_translate_mode = 1
canvas_item_default_texture_filter = 0
size = Vector2i(64, 24)
script = ExtResource("6_im64q")

[node name="HBoxContainer" type="HBoxContainer" parent="PanelContainer/Buttons/Throw/PopupPanel"]
offset_left = 4.0
offset_top = 4.0
offset_right = 60.0
offset_bottom = 20.0

[node name="Left" type="TextureButton" parent="PanelContainer/Buttons/Throw/PopupPanel/HBoxContainer"]
layout_mode = 2
texture_normal = ExtResource("6_dlkme")

[node name="Close" type="TextureButton" parent="PanelContainer/Buttons/Throw/PopupPanel/HBoxContainer"]
layout_mode = 2
texture_normal = ExtResource("8_dlkme")

[node name="Right" type="TextureButton" parent="PanelContainer/Buttons/Throw/PopupPanel/HBoxContainer"]
layout_mode = 2
texture_normal = ExtResource("7_im64q")

[node name="LevelTiles" parent="." instance=ExtResource("5_21bcp")]
position = Vector2(1, 70)
tile_map_data = PackedByteArray("AAAAAAoAAwADAAYAAAABAAoAAwAEAAYAAAACAAoAAwAEAAYAAAADAAoAAwAEAAYAAAAEAAoAAwAEAAYAAAAFAAoAAwAEAAYAAAAGAAoAAwAEAAYAAAAHAAoAAwAEAAYAAAAIAAoAAwAEAAYAAAAJAAoAAwAEAAYAAAAKAAoAAwAEAAYAAAALAAoAAwAEAAYAAAAMAAoAAwAEAAYAAAANAAoAAwAEAAYAAAAOAAoAAwAEAAYAAAAPAAoAAwAEAAYAAAAQAAoAAwAEAAYAAAARAAoAAwAEAAYAAAASAAoAAwAEAAYAAAATAAoAAwAEAAYAAAAUAAoAAwAEAAYAAAAVAAoAAwAEAAYAAAAWAAoAAwAEAAYAAAAXAAoAAwAEAAYAAAAYAAoAAwAEAAYAAAAZAAoAAwAEAAYAAAAaAAoAAwAEAAYAAAAbAAoAAwAEAAYAAAAcAAoAAwAEAAYAAAAdAAoAAwAEAAYAAAAeAAoAAwAEAAYAAAAfAAoAAwAFAAYAAAAfAAsAAwAFAAcAAAAeAAsAAwAEAAcAAAAdAAsAAwAEAAcAAAAcAAsAAwAEAAcAAAAbAAsAAwAEAAcAAAAaAAsAAwAEAAcAAAAZAAsAAwAEAAcAAAAYAAsAAwAEAAcAAAAXAAsAAwAEAAcAAAAWAAsAAwAEAAcAAAAVAAsAAwAEAAcAAAAUAAsAAwAEAAcAAAATAAsAAwAEAAcAAAASAAsAAwAEAAcAAAARAAsAAwAEAAcAAAAQAAsAAwAEAAcAAAAPAAsAAwAEAAcAAAAOAAsAAwAEAAcAAAANAAsAAwAEAAcAAAAMAAsAAwAEAAcAAAALAAsAAwAEAAcAAAAKAAsAAwAEAAcAAAAJAAsAAwAEAAcAAAAIAAsAAwAEAAcAAAAHAAsAAwAEAAcAAAAGAAsAAwAEAAcAAAAFAAsAAwAEAAcAAAAEAAsAAwAEAAcAAAADAAsAAwAEAAcAAAACAAsAAwAEAAcAAAABAAsAAwAEAAcAAAAAAAsAAwADAAcAAAAAAAwAAwADAAgAAAABAAwAAwAEAAgAAAACAAwAAwAEAAgAAAADAAwAAwAEAAgAAAAEAAwAAwAEAAgAAAAFAAwAAwAEAAgAAAAGAAwAAwAEAAgAAAAHAAwAAwAEAAgAAAAIAAwAAwAEAAgAAAAJAAwAAwAEAAgAAAAKAAwAAwAEAAgAAAALAAwAAwAEAAgAAAAMAAwAAwAEAAgAAAANAAwAAwAEAAgAAAARAAwAAwAEAAgAAAASAAwAAwAEAAgAAAATAAwAAwAEAAgAAAAUAAwAAwAEAAgAAAAVAAwAAwAEAAgAAAAWAAwAAwAEAAgAAAAXAAwAAwAEAAgAAAAYAAwAAwAEAAgAAAAZAAwAAwAEAAgAAAAaAAwAAwAEAAgAAAAbAAwAAwAEAAgAAAAcAAwAAwAEAAgAAAAdAAwAAwAEAAgAAAAeAAwAAwAEAAgAAAAfAAwAAwAFAAgAAAAQAAwAAwAEAAgAAAAPAAwAAwAEAAgAAAAOAAwAAwAEAAgAAAA=")

[connection signal="pressed" from="PanelContainer/Buttons/Perform" to="Door" method="HandlePerform"]
[connection signal="pressed" from="PanelContainer/Buttons/Grab" to="Door" method="HandleGrab"]
[connection signal="pressed" from="PanelContainer/Buttons/Move" to="PanelContainer/Buttons/Move/PopupPanel" method="_on_button_pressed"]
[connection signal="pressed" from="PanelContainer/Buttons/Move/PopupPanel/HBoxContainer/Close" to="PanelContainer/Buttons/Move/PopupPanel" method="_on_close_pressed"]
[connection signal="pressed" from="PanelContainer/Buttons/Throw" to="PanelContainer/Buttons/Throw/PopupPanel" method="_on_button_pressed"]
[connection signal="pressed" from="PanelContainer/Buttons/Throw/PopupPanel/HBoxContainer/Close" to="PanelContainer/Buttons/Throw/PopupPanel" method="_on_close_pressed"]
